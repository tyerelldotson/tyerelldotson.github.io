---
title: "Assignment 2"
---

# Google Trends Data

## Comparing Trump and Kamala Harris

For this comparison, I picked July 1 – November 30, 2024 because it lines up with the big campaign events that drove public interest. In June, Biden took a lot of criticism about his fitness for office, and in July he stepped down and endorsed Kamala Harris. On the Republican side, Trump accepted the party nomination not long after the alleged assassination attempt. November is significant due to Election Day. Put together, this stretch of time is the most relevant for comparing search interest in Trump and Harris during the 2024 election.

## How to read the data

Google Trends provides a readable interface and a CSV for comparisons: a date column and one column per search term with values on a 0–100 scale.

\
The scale equals relative popularity within the selected time & place; 100 is the peak in that window, and other values are scaled to it. Meaning, not raw number of searches but instead, how popular a term is compared to all Google searches during the set time and location. As mentioned, the highest point in the chart is set to 100, and everything else is scaled against that peak. A “50” means the term was half as popular as it was at its peak, not that it had 50 searches. Intervals are automatically chosen by Google Trends based on the date range (hourly, daily, weekly, or monthly). For this search, the intervals are daily.

```{r}
web <- read.csv("Data/trumpvskamalaharris.csv", skip = 2, check.names = FALSE)
names(web)[1] <- "date"; web$date <- as.Date(web$date)
for (j in 2:ncol(web)) { web[[j]] <- as.numeric(gsub("<1","0.5", web[[j]])) }
head(web, 10)
cat(sprintf("Preview shown · Full file: %d rows × %d columns\n", nrow(web), ncol(web)))

```

## gtrendsR

Additionally, I pulled the same data directly into RStudio using the **gtrendsR** package and saved it into CSV, R Data, and RDS formats.

```{r}
library(gtrendsR)

kw <- c("Trump", "Kamala Harris")
geo <- "US"
window <- "2024-07-01 2024-11-30"

gt <- gtrends(keyword = kw, geo = geo, time = window, onlyInterest = TRUE)

write.csv(gt$interest_over_time, "Data/gtrends_trump_harris_2024_iot.csv", row.names = FALSE)
save(gt,  file = "Data/gtrends_trump_harris_2024.RData")
saveRDS(gt, file = "Data/gtrends_trump_harris_2024.rds")
```

## Additional searches

I downloaded each search term separately from Google Trends as CSV files and pulled the same data in RStudio with the gtrendsr package, which gave me some extra practice using code to collect and work with data.

Trump

```{r}
trump <- read.csv("Data/trump.csv", skip = 2, check.names = FALSE)
names(trump)[1] <- "date"; trump$date <- as.Date(trump$date)
for (j in 2:ncol(trump)) { trump[[j]] <- as.numeric(gsub("<1","0.5", trump[[j]])) }
head(trump, 10)
cat(sprintf("Preview shown · Full file: %d rows × %d columns\n", nrow(trump), ncol(trump)))

```

Kamala Harris

```{r}
kamala <- read.csv("Data/kamalaharris.csv", skip = 2, check.names = FALSE)
names(kamala)[1] <- "date"; kamala$date <- as.Date(kamala$date)
for (j in 2:ncol(kamala)) { kamala[[j]] <- as.numeric(gsub("<1","0.5", kamala[[j]])) }
head(kamala, 10)
cat(sprintf("Preview shown · Full file: %d rows × %d columns\n", nrow(kamala), ncol(kamala)))

```

Election

```{r}
election <- read.csv("Data/election.csv", skip = 2, check.names = FALSE)
names(election)[1] <- "date"; election$date <- as.Date(election$date)
for (j in 2:ncol(election)) { election[[j]] <- as.numeric(gsub("<1","0.5", election[[j]])) }
head(election, 10)
cat(sprintf("Preview shown · Full file: %d rows × %d columns\n", nrow(election), ncol(election)))

```

## Collection Method Differences

I used both the Google Trends website and the gtrendsR package to collect data. Both methods provide the same output but there is some differences in terms of simplicity. Downloading CSVs from the website was straightforward and gave me quick access to the search results. Using gtrendsR took a little more effort since it required writing code, something I am just now learning how to do, but once the data was pulled into RStudio I could immediately save it in multiple formats and start analyzing it in the same environment. In other words, the website method is quick and user-friendly, while the RStudio method is more efficient because you're able to do different things with it from the same application as opposed to pulling it from Google trends and then uploading somewhere else to use the data. Though the outcome is the same, the gtrendsR package adds flexibility once you’re comfortable with the code.
